{"ast":null,"code":"import { inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { OpportunityStateService } from '../../core/services/opportunity-state.service';\nimport { DataTableComponent } from '../../shared/components/data-table/data-table.component';\nimport { DetailPageComponent } from '../../shared/components/detail/detail-page.component';\nimport { I18nPipe } from '../../shared/utils/i18n.pipe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = (a0, a1, a2, a3, a4) => ({\n  titulo: a0,\n  estado: a1,\n  propietario: a2,\n  monto: a3,\n  fechaCierre: a4\n});\nconst _c1 = a0 => ({\n  label: \"Probabilidad\",\n  value: a0\n});\nconst _c2 = a0 => ({\n  label: \"Cuenta\",\n  value: a0\n});\nconst _c3 = a0 => ({\n  label: \"Fuente\",\n  value: a0\n});\nconst _c4 = a0 => ({\n  label: \"Territorio\",\n  value: a0\n});\nconst _c5 = (a0, a1, a2, a3) => [a0, a1, a2, a3];\nconst _c6 = a0 => ({\n  fecha: a0,\n  titulo: \"Cierre esperado\",\n  descripcion: \"Seguimiento autom\\u00E1tico\"\n});\nconst _c7 = a0 => [a0];\nfunction VariantCPageComponent_Conditional_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-data-table\", 5);\n    i0.ɵɵlistener(\"rowSelected\", function VariantCPageComponent_Conditional_9_Template_app_data_table_rowSelected_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.select($event.row));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"columns\", ctx_r1.columns)(\"data\", ctx)(\"pageSize\", 30);\n  }\n}\nfunction VariantCPageComponent_Conditional_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"app-detail-page\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selected_r3 = ctx;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"header\", i0.ɵɵpureFunction5(3, _c0, ctx_r1.asString(selected_r3[\"nombre\"]), ctx_r1.asString(selected_r3[\"etapa\"]), ctx_r1.asString(selected_r3[\"propietario\"] || \"Sin asignar\"), ctx_r1.asNumber(selected_r3[\"monto\"]), ctx_r1.asString(selected_r3[\"cierrePrevisto\"])))(\"properties\", i0.ɵɵpureFunction4(17, _c5, i0.ɵɵpureFunction1(9, _c1, ctx_r1.asString(selected_r3[\"probabilidad\"])), i0.ɵɵpureFunction1(11, _c2, ctx_r1.asString(selected_r3[\"cuenta\"])), i0.ɵɵpureFunction1(13, _c3, ctx_r1.asString(selected_r3[\"fuente\"])), i0.ɵɵpureFunction1(15, _c4, ctx_r1.asString(selected_r3[\"territorio\"]))))(\"timeline\", i0.ɵɵpureFunction1(24, _c7, i0.ɵɵpureFunction1(22, _c6, ctx_r1.asString(selected_r3[\"cierrePrevisto\"]))));\n  }\n}\nexport let VariantCPageComponent = /*#__PURE__*/(() => {\n  class VariantCPageComponent {\n    state = inject(OpportunityStateService);\n    selection = signal(null);\n    rows$ = this.state.opportunities$;\n    columns = [{\n      key: 'nombre',\n      title: 'Nombre',\n      sortable: true,\n      filterable: true,\n      pinned: 'left'\n    }, {\n      key: 'etapa',\n      title: 'Etapa',\n      sortable: true\n    }, {\n      key: 'monto',\n      title: 'Monto',\n      type: 'number',\n      sortable: true\n    }, {\n      key: 'probabilidad',\n      title: 'Probabilidad',\n      type: 'number',\n      sortable: true\n    }];\n    select(row) {\n      this.selection.set(row);\n    }\n    asString(value) {\n      return String(value);\n    }\n    asNumber(value) {\n      return Number(value);\n    }\n    static ɵfac = function VariantCPageComponent_Factory(t) {\n      return new (t || VariantCPageComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VariantCPageComponent,\n      selectors: [[\"app-variant-c-page\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 12,\n      vars: 7,\n      consts: [[1, \"variant\", \"variant-c\"], [1, \"variant-c__split\"], [1, \"variant-c__master\"], [\"density\", \"compact\"], [1, \"variant-c__detail\"], [\"density\", \"compact\", 3, \"rowSelected\", \"columns\", \"data\", \"pageSize\"], [3, \"header\", \"properties\", \"timeline\"]],\n      template: function VariantCPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"header\")(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵpipe(4, \"i18n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\");\n          i0.ɵɵtext(6, \"Panel dividido maestro-detalle con atajos de teclado.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 1)(8, \"div\", 2);\n          i0.ɵɵtemplate(9, VariantCPageComponent_Conditional_9_Template, 1, 3, \"app-data-table\", 3);\n          i0.ɵɵpipe(10, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, VariantCPageComponent_Conditional_11_Template, 2, 26, \"div\", 4);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"variant.c.title\"));\n          i0.ɵɵadvance(6);\n          i0.ɵɵconditional(9, (tmp_1_0 = i0.ɵɵpipeBind1(10, 5, ctx.rows$)) ? 9 : -1, tmp_1_0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵconditional(11, (tmp_2_0 = ctx.selection()) ? 11 : -1, tmp_2_0);\n        }\n      },\n      dependencies: [CommonModule, i1.AsyncPipe, RouterModule, DataTableComponent, DetailPageComponent, I18nPipe],\n      styles: [\"[_ngcontent-%COMP%]:root{--color-background: #f6f8fb;--color-surface: #ffffff;--color-surface-muted: #f1f3f8;--color-border: #dbe1ea;--color-text: #1f2933;--color-text-muted: #52606d;--color-accent: #4f46ef;--color-accent-soft: rgba(79, 70, 239, .12);--color-accent-strong: #372fce;--color-positive: #0ea965;--color-warning: #f59f00;--color-critical: #f04f47;--color-on-accent: #ffffff}[data-theme=dark][_ngcontent-%COMP%]{--color-background: #0f172a;--color-surface: #111c2f;--color-surface-muted: #1e2a3f;--color-border: #1f2e45;--color-text: #f7fafc;--color-text-muted: #cbd5f5;--color-accent: #7f5bff;--color-accent-soft: rgba(127, 91, 255, .2);--color-accent-strong: #997cff;--color-positive: #2bd980;--color-warning: #f7b941;--color-critical: #ff6f6b;--color-on-accent: #0f172a}body[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;color:var(--color-text);background:var(--color-background);margin:0}[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}.variant-c[_ngcontent-%COMP%]{display:grid;gap:1rem}.variant-c__split[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(340px,45%) 1fr;gap:1rem}.variant-c__master[_ngcontent-%COMP%], .variant-c__detail[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:.75rem;padding:.75rem}@media (max-width: 1024px){.variant-c__split[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"],\n      changeDetection: 0\n    });\n  }\n  return VariantCPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}