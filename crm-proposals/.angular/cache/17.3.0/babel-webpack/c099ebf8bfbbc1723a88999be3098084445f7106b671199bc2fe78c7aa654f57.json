{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DragDropModule, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { CdkVirtualScrollViewport, ScrollingModule } from '@angular/cdk/scrolling';\nimport { BehaviorSubject, combineLatest, map, startWith } from 'rxjs';\nimport { ColumnResizeDirective } from '../../directives/column-resize.directive';\nimport { InlineEditCellComponent } from '../inline-edit-cell/inline-edit-cell.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/cdk/scrolling\";\nconst _c0 = [[[\"\", \"toolbar\", \"\"]]];\nconst _c1 = [\"[toolbar]\"];\nconst _c2 = () => [];\nfunction DataTableComponent_th_8_button_4_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r2.sort$.value == null ? null : ctx_r2.sort$.value.direction) === \"asc\" ? \"\\u25B2\" : \"\\u25BC\", \" \");\n  }\n}\nfunction DataTableComponent_th_8_button_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u21C5\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DataTableComponent_th_8_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵtemplate(1, DataTableComponent_th_8_button_4_span_1_Template, 2, 1, \"span\", 5)(2, DataTableComponent_th_8_button_4_span_2_Template, 2, 0, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.sort$.value == null ? null : ctx_r2.sort$.value.key) === column_r2.key);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.sort$.value == null ? null : ctx_r2.sort$.value.key) !== column_r2.key);\n  }\n}\nfunction DataTableComponent_th_8_Conditional_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 12);\n    i0.ɵɵlistener(\"input\", function DataTableComponent_th_8_Conditional_5_Template_input_input_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const column_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateColumnFilter(column_r2.key, ctx_r2.getInputValue($event)));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r2.columnFilters$.value[column_r2.key] || \"\");\n  }\n}\nfunction DataTableComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 7);\n    i0.ɵɵlistener(\"click\", function DataTableComponent_th_8_Template_th_click_0_listener() {\n      const column_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.sortBy(column_r2));\n    });\n    i0.ɵɵelementStart(1, \"div\", 8)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DataTableComponent_th_8_button_4_Template, 3, 2, \"button\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, DataTableComponent_th_8_Conditional_5_Template, 1, 1, \"input\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    const column_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"width\", (tmp_3_0 = column_r2.width) !== null && tmp_3_0 !== undefined ? tmp_3_0 : 180, \"px\");\n    i0.ɵɵattribute(\"aria-sort\", (ctx_r2.sort$.value == null ? null : ctx_r2.sort$.value.key) === column_r2.key ? ctx_r2.sort$.value == null ? null : ctx_r2.sort$.value.direction : \"none\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"appColumnResize\", ctx_r2.enableColumnResize);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(column_r2.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", column_r2.sortable);\n    i0.ɵɵadvance();\n    i0.ɵɵconditional(5, column_r2.filterable ? 5 : -1);\n  }\n}\nfunction DataTableComponent_ng_container_10_tr_1_td_1_app_inline_edit_cell_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-inline-edit-cell\", 19);\n    i0.ɵɵlistener(\"valueChange\", function DataTableComponent_ng_container_10_tr_1_td_1_app_inline_edit_cell_1_Template_app_inline_edit_cell_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const column_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      const row_r7 = ctx_r13.$implicit;\n      const rowIndex_r8 = ctx_r13.index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.handleCellEdit(rowIndex_r8, column_r13, row_r7, $event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_10_0;\n    let tmp_11_0;\n    const column_r13 = i0.ɵɵnextContext().$implicit;\n    const row_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"value\", row_r7[column_r13.key])(\"type\", (tmp_10_0 = column_r13.type) !== null && tmp_10_0 !== undefined ? tmp_10_0 : \"text\")(\"options\", (tmp_11_0 = column_r13.options) !== null && tmp_11_0 !== undefined ? tmp_11_0 : i0.ɵɵpureFunction0(3, _c2));\n  }\n}\nfunction DataTableComponent_ng_container_10_tr_1_td_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r13 = i0.ɵɵnextContext().$implicit;\n    const row_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(row_r7[column_r13.key]);\n  }\n}\nfunction DataTableComponent_ng_container_10_tr_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵlistener(\"focus\", function DataTableComponent_ng_container_10_tr_1_td_1_Template_td_focus_0_listener() {\n      const colIndex_r11 = i0.ɵɵrestoreView(_r10).index;\n      const rowIndex_r8 = i0.ɵɵnextContext().index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.handleCellFocus(rowIndex_r8, colIndex_r11));\n    });\n    i0.ɵɵtemplate(1, DataTableComponent_ng_container_10_tr_1_td_1_app_inline_edit_cell_1_Template, 1, 4, \"app-inline-edit-cell\", 18)(2, DataTableComponent_ng_container_10_tr_1_td_1_span_2_Template, 2, 1, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r13 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"is-pinned-left\", column_r13.pinned === \"left\")(\"is-pinned-right\", column_r13.pinned === \"right\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.enableInlineEdit);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.enableInlineEdit);\n  }\n}\nfunction DataTableComponent_ng_container_10_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 15);\n    i0.ɵɵlistener(\"click\", function DataTableComponent_ng_container_10_tr_1_Template_tr_click_0_listener($event) {\n      const ctx_r5 = i0.ɵɵrestoreView(_r5);\n      const row_r7 = ctx_r5.$implicit;\n      const rowIndex_r8 = ctx_r5.index;\n      const vm_r9 = i0.ɵɵnextContext().ngIf;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRowClick(row_r7, rowIndex_r8, $event, vm_r9.rows.length));\n    });\n    i0.ɵɵtemplate(1, DataTableComponent_ng_container_10_tr_1_td_1_Template, 3, 6, \"td\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rowIndex_r8 = ctx.index;\n    const vm_r9 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-selected\", ctx_r2.selection$.value.has(rowIndex_r8));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", vm_r9.columns);\n  }\n}\nfunction DataTableComponent_ng_container_10_td_4_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const colIndex_r15 = i0.ɵɵnextContext().index;\n    const vm_r9 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, vm_r9.summaries[colIndex_r15], \"1.0-0\"), \" \");\n  }\n}\nfunction DataTableComponent_ng_container_10_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtemplate(1, DataTableComponent_ng_container_10_td_4_span_1_Template, 3, 4, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const colIndex_r15 = ctx.index;\n    const vm_r9 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", vm_r9.summaries[colIndex_r15] !== null);\n  }\n}\nfunction DataTableComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, DataTableComponent_ng_container_10_tr_1_Template, 2, 3, \"tr\", 13);\n    i0.ɵɵelementStart(2, \"tfoot\")(3, \"tr\");\n    i0.ɵɵtemplate(4, DataTableComponent_ng_container_10_td_4_Template, 2, 1, \"td\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const vm_r9 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", vm_r9.rows);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", vm_r9.columns);\n  }\n}\nfunction DataTableComponent_Conditional_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function DataTableComponent_Conditional_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToPage(ctx_r2.mathMax(ctx_r2.page$.value - 1, 0)));\n    });\n    i0.ɵɵtext(2, \" \\u25C0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function DataTableComponent_Conditional_12_Template_button_click_5_listener() {\n      const vm_r17 = i0.ɵɵrestoreView(_r16);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToPage(ctx_r2.mathMin(ctx_r2.page$.value + 1, vm_r17.totalPages - 1)));\n    });\n    i0.ɵɵtext(6, \" \\u25B6 \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const vm_r17 = ctx;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r2.page$.value === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"P\\u00E1gina \", ctx_r2.page$.value + 1, \" / \", vm_r17.totalPages, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r2.page$.value >= vm_r17.totalPages - 1);\n  }\n}\nexport let DataTableComponent = /*#__PURE__*/(() => {\n  class DataTableComponent {\n    columns = [];\n    data = [];\n    pageSize = 50;\n    density = 'regular';\n    enableColumnReorder = true;\n    enableColumnResize = true;\n    enableInlineEdit = true;\n    keyboardShortcuts = true;\n    cellEdited = new EventEmitter();\n    rowSelected = new EventEmitter();\n    viewport;\n    search$ = new BehaviorSubject('');\n    columnFilters$ = new BehaviorSubject({});\n    sort$ = new BehaviorSubject(null);\n    page$ = new BehaviorSubject(0);\n    selection$ = new BehaviorSubject(new Set());\n    focusCell$ = new BehaviorSubject(null);\n    displayedColumns$ = new BehaviorSubject([]);\n    rows$ = new BehaviorSubject([]);\n    viewModel$ = combineLatest([this.rows$, this.displayedColumns$, this.search$, this.columnFilters$, this.sort$, this.page$]).pipe(map(([rows, columns, search, columnFilters, sort, page]) => {\n      const filtered = rows.filter(row => {\n        const searchLower = search.toLowerCase();\n        const matchesSearch = !searchLower || columns.some(column => String(row[column.key] ?? '').toLowerCase().includes(searchLower));\n        const matchesColumns = Object.entries(columnFilters).every(([key, value]) => {\n          if (!value) {\n            return true;\n          }\n          const cell = String(row[key] ?? '').toLowerCase();\n          return cell.includes(value.toLowerCase());\n        });\n        return matchesSearch && matchesColumns;\n      });\n      const sorted = sort ? [...filtered].sort((a, b) => {\n        const av = a[sort.key];\n        const bv = b[sort.key];\n        if (av === bv) {\n          return 0;\n        }\n        if (av == null) {\n          return 1;\n        }\n        if (bv == null) {\n          return -1;\n        }\n        const result = av > bv ? 1 : -1;\n        return sort.direction === 'asc' ? result : -result;\n      }) : filtered;\n      const startIndex = page * this.pageSize;\n      const paginated = sorted.slice(startIndex, startIndex + this.pageSize);\n      const summaries = columns.map(column => {\n        if (!column.summary) {\n          return null;\n        }\n        const values = sorted.map(row => Number(row[column.key]) || 0);\n        switch (column.summary) {\n          case 'sum':\n            return values.reduce((acc, value) => acc + value, 0);\n          case 'avg':\n            return values.reduce((acc, value) => acc + value, 0) / (values.length || 1);\n          case 'count':\n            return sorted.length;\n          default:\n            return null;\n        }\n      });\n      return {\n        columns,\n        rows: paginated,\n        total: filtered.length,\n        totalPages: Math.ceil(filtered.length / this.pageSize),\n        summaries\n      };\n    }));\n    ngOnChanges(changes) {\n      if (changes['columns']) {\n        this.displayedColumns$.next([...(this.columns ?? [])]);\n      }\n      if (changes['data']) {\n        this.rows$.next(this.data ?? []);\n      }\n    }\n    ngAfterViewInit() {\n      this.viewport?.scrolledIndexChange.pipe(startWith(0)).subscribe(index => {\n        this.focusCell$.next({\n          row: index,\n          col: 0\n        });\n      });\n    }\n    updateSearch(value) {\n      this.search$.next(value);\n      this.page$.next(0);\n    }\n    updateColumnFilter(key, value) {\n      const next = {\n        ...this.columnFilters$.value,\n        [key]: value\n      };\n      this.columnFilters$.next(next);\n      this.page$.next(0);\n    }\n    sortBy(column) {\n      if (!column.sortable) {\n        return;\n      }\n      const current = this.sort$.value;\n      if (current?.key === column.key) {\n        this.sort$.next({\n          key: column.key,\n          direction: current.direction === 'asc' ? 'desc' : 'asc'\n        });\n      } else {\n        this.sort$.next({\n          key: column.key,\n          direction: 'asc'\n        });\n      }\n    }\n    goToPage(page) {\n      this.page$.next(page);\n      this.viewport?.scrollToIndex(page * this.pageSize);\n    }\n    dropColumns(event) {\n      if (!this.enableColumnReorder) {\n        return;\n      }\n      const columns = [...this.displayedColumns$.value];\n      moveItemInArray(columns, event.previousIndex, event.currentIndex);\n      this.displayedColumns$.next(columns);\n    }\n    handleCellFocus(rowIndex, colIndex) {\n      this.focusCell$.next({\n        row: rowIndex,\n        col: colIndex\n      });\n    }\n    handleCellEdit(rowIndex, column, row, value) {\n      this.cellEdited.emit({\n        rowIndex,\n        key: column.key,\n        value,\n        row\n      });\n    }\n    onRowClick(row, rowIndex, event, totalRows) {\n      const multi = event.ctrlKey || event.metaKey;\n      if (event.shiftKey && this.selection$.value.size) {\n        const last = Array.from(this.selection$.value).pop() ?? 0;\n        const [start, end] = [Math.min(last, rowIndex), Math.max(last, rowIndex)];\n        const range = Array.from({\n          length: end - start + 1\n        }, (_, idx) => start + idx);\n        this.selectRange(range);\n      } else {\n        this.toggleRowSelection(rowIndex, !multi);\n      }\n      this.rowSelected.emit({\n        row,\n        index: rowIndex\n      });\n    }\n    toggleRowSelection(rowIndex, single) {\n      const next = new Set(this.selection$.value);\n      if (single) {\n        next.clear();\n      }\n      if (next.has(rowIndex)) {\n        next.delete(rowIndex);\n      } else {\n        next.add(rowIndex);\n      }\n      this.selection$.next(next);\n    }\n    selectRange(range) {\n      this.selection$.next(new Set(range));\n    }\n    clearSelection() {\n      this.selection$.next(new Set());\n    }\n    onKeydown(event) {\n      if (!this.keyboardShortcuts) {\n        return;\n      }\n      const focus = this.focusCell$.value;\n      if (!focus) {\n        return;\n      }\n      switch (event.key) {\n        case 'ArrowDown':\n          event.preventDefault();\n          this.focusCell$.next({\n            row: focus.row + 1,\n            col: focus.col\n          });\n          break;\n        case 'ArrowUp':\n          event.preventDefault();\n          this.focusCell$.next({\n            row: Math.max(focus.row - 1, 0),\n            col: focus.col\n          });\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          this.focusCell$.next({\n            row: focus.row,\n            col: Math.min(focus.col + 1, this.columns.length - 1)\n          });\n          break;\n        case 'ArrowLeft':\n          event.preventDefault();\n          this.focusCell$.next({\n            row: focus.row,\n            col: Math.max(focus.col - 1, 0)\n          });\n          break;\n        case 'Escape':\n          this.clearSelection();\n          break;\n        default:\n          break;\n      }\n    }\n    mathMax(a, b) {\n      return Math.max(a, b);\n    }\n    mathMin(a, b) {\n      return Math.min(a, b);\n    }\n    getInputValue(event) {\n      return event.target?.value || '';\n    }\n    static ɵfac = function DataTableComponent_Factory(t) {\n      return new (t || DataTableComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DataTableComponent,\n      selectors: [[\"app-data-table\"]],\n      viewQuery: function DataTableComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(CdkVirtualScrollViewport, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.viewport = _t.first);\n        }\n      },\n      hostBindings: function DataTableComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"keydown\", function DataTableComponent_keydown_HostBindingHandler($event) {\n            return ctx.onKeydown($event);\n          }, false, i0.ɵɵresolveWindow);\n        }\n      },\n      inputs: {\n        columns: \"columns\",\n        data: \"data\",\n        pageSize: \"pageSize\",\n        density: \"density\",\n        enableColumnReorder: \"enableColumnReorder\",\n        enableColumnResize: \"enableColumnResize\",\n        enableInlineEdit: \"enableInlineEdit\",\n        keyboardShortcuts: \"keyboardShortcuts\"\n      },\n      outputs: {\n        cellEdited: \"cellEdited\",\n        rowSelected: \"rowSelected\"\n      },\n      standalone: true,\n      features: [i0.ɵɵNgOnChangesFeature, i0.ɵɵStandaloneFeature],\n      ngContentSelectors: _c1,\n      decls: 14,\n      vars: 11,\n      consts: [[1, \"data-table\"], [\"role\", \"search\", 1, \"data-table__toolbar\"], [\"type\", \"search\", \"placeholder\", \"Buscar\", \"aria-label\", \"Buscar en tabla\", 3, \"input\", \"value\"], [\"role\", \"table\", \"aria-label\", \"Tabla editable\", 1, \"data-table__viewport\", 3, \"itemSize\"], [3, \"width\", \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"role\", \"navigation\", \"aria-label\", \"Paginaci\\u00F3n\", 1, \"data-table__pagination\"], [3, \"click\"], [1, \"header-cell\", 3, \"appColumnResize\"], [\"type\", \"button\", \"aria-label\", \"Ordenar\", 4, \"ngIf\"], [\"type\", \"search\", \"placeholder\", \"Filtro\", \"aria-label\", \"Filtrar columna\"], [\"type\", \"button\", \"aria-label\", \"Ordenar\"], [\"type\", \"search\", \"placeholder\", \"Filtro\", \"aria-label\", \"Filtrar columna\", 3, \"input\", \"value\"], [\"tabindex\", \"0\", 3, \"is-selected\", \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", 3, \"click\"], [3, \"is-pinned-left\", \"is-pinned-right\", \"focus\", 4, \"ngFor\", \"ngForOf\"], [3, \"focus\"], [3, \"value\", \"type\", \"options\", \"valueChange\", 4, \"ngIf\"], [3, \"valueChange\", \"value\", \"type\", \"options\"], [\"type\", \"button\", 3, \"click\", \"disabled\"]],\n      template: function DataTableComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef(_c0);\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n          i0.ɵɵlistener(\"input\", function DataTableComponent_Template_input_input_2_listener($event) {\n            return ctx.updateSearch(ctx.getInputValue($event));\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵprojection(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"cdk-virtual-scroll-viewport\", 3)(5, \"table\")(6, \"thead\")(7, \"tr\");\n          i0.ɵɵtemplate(8, DataTableComponent_th_8_Template, 6, 7, \"th\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"tbody\");\n          i0.ɵɵtemplate(10, DataTableComponent_ng_container_10_Template, 5, 2, \"ng-container\", 5);\n          i0.ɵɵpipe(11, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(12, DataTableComponent_Conditional_12_Template, 7, 4, \"div\", 6);\n          i0.ɵɵpipe(13, \"async\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          let tmp_5_0;\n          i0.ɵɵclassProp(\"data-table--dense\", ctx.density === \"compact\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"value\", ctx.search$.value);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"itemSize\", ctx.density === \"compact\" ? 32 : 44);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.displayedColumns$.value);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 7, ctx.viewModel$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵconditional(12, (tmp_5_0 = i0.ɵɵpipeBind1(13, 9, ctx.viewModel$)) ? 12 : -1, tmp_5_0);\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.AsyncPipe, i1.DecimalPipe, FormsModule, ReactiveFormsModule, DragDropModule, ColumnResizeDirective, InlineEditCellComponent, ScrollingModule, i2.CdkFixedSizeVirtualScroll, i2.CdkVirtualScrollViewport],\n      styles: [\"[_ngcontent-%COMP%]:root{--color-background: #f6f8fb;--color-surface: #ffffff;--color-surface-muted: #f1f3f8;--color-border: #dbe1ea;--color-text: #1f2933;--color-text-muted: #52606d;--color-accent: #4f46ef;--color-accent-soft: rgba(79, 70, 239, .12);--color-accent-strong: #372fce;--color-positive: #0ea965;--color-warning: #f59f00;--color-critical: #f04f47;--color-on-accent: #ffffff}[data-theme=dark][_ngcontent-%COMP%]{--color-background: #0f172a;--color-surface: #111c2f;--color-surface-muted: #1e2a3f;--color-border: #1f2e45;--color-text: #f7fafc;--color-text-muted: #cbd5f5;--color-accent: #7f5bff;--color-accent-soft: rgba(127, 91, 255, .2);--color-accent-strong: #997cff;--color-positive: #2bd980;--color-warning: #f7b941;--color-critical: #ff6f6b;--color-on-accent: #0f172a}body[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;color:var(--color-text);background:var(--color-background);margin:0}[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}.data-table[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:.75rem;box-shadow:0 8px 20px #0f172a14;overflow:hidden;display:flex;flex-direction:column}.data-table--dense[_ngcontent-%COMP%]{font-size:.875rem}.data-table__toolbar[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem 1.5rem;border-bottom:1px solid var(--color-border);align-items:center}.data-table__toolbar[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border:1px solid var(--color-border);border-radius:.5rem}.data-table__viewport[_ngcontent-%COMP%]{height:480px}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-border);background:var(--color-surface);position:relative}th[_ngcontent-%COMP%]{top:0;position:sticky;background:var(--color-surface);z-index:10;padding:.5rem}th[_ngcontent-%COMP%]   .header-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}th[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]{width:100%;margin-top:.5rem;padding:.5rem;border-radius:.375rem;border:1px solid var(--color-border)}td[_ngcontent-%COMP%]{padding:.75rem 1rem;min-width:120px}td.is-pinned-left[_ngcontent-%COMP%], td.is-pinned-right[_ngcontent-%COMP%]{position:sticky;background:var(--color-surface);z-index:10}td.is-pinned-left[_ngcontent-%COMP%]{left:0}td.is-pinned-right[_ngcontent-%COMP%]{right:0}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s ease}tbody[_ngcontent-%COMP%]   tr.is-selected[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--color-surface-muted)}.data-table__pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:var(--color-surface-muted);font-weight:600}\"],\n      changeDetection: 0\n    });\n  }\n  return DataTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}